# Video Player App

## MVP

---

Приложение для воиспроизведения видео через API с кешированием списка видео.

**Реализованный функционал**

- Получение списка видео ~~через открытую API~~ из локального json файла
- Swipe to refresh для обновления списка
- Воиспроизведение найденных видео файлов
- Продолжение воиспроизведения при перевороте экрана
- Управление проигрыванием (пауза/воиспроизведение, перемотка) на экране воиспроизводимого видео
- Тестирование UI, unit

## Технологии

---

- **Языки:** Kotlin
- **Архитектура:** MVI, Clean Architecture
- **UI:** Jetpack Compose
- **DI:** Hilt
- **Медиа:** Media3 ExoPlayer, Coil
- **Асинхронность:** Coroutines/Flow
- **Работа с сетью:** Retrofit + OkHttp
- **Хранение данных:** Room, DataStore

## API

---

Открытых API для получения списка видео не было найдено (в опенсорсный проект не хотела поставлять свои собственные ключи с YouTube API).

Для получения списка вместо реальных API парсится локальный файл, получаемый через interceptor, взятый отсюда: [https://gist.github.com/poudyalanil/ca84582cbeb4fc123a13290a586da925](https://gist.github.com/poudyalanil/ca84582cbeb4fc123a13290a586da925).

С учётом того, что видео из этого источника находятся по ссылкам вида (http://…), а не https://, пришлось добавить android:usesCleartextTraffic="true” в файл манифеста.

## Требования и сборка

---

**Минимальная версия Android — Android 8.0 (API 26)**

**Минимальная версия Android Studio для сборки Ladybug | 2024.2.1**

**Минимальная версия Java — 11**

**После скачивания проекта, откройте его в Android Studio и в командной строке вызовите:**

`./gradlew assembleDebug` **для сборки debug**

**После успешной сборки заберите файл проекта в …VideoPlayer\app\build\outputs\apk\debug\app-debug.apk**

## О задании

---

- Добавлены UI и unit тесты
- Изначально планировалась пагинация для реализации динамически подгружаемого списка видео, однако, в данном MVP она не показалась необходимым решением

## Необходимые доработки

---

- Добавление большего количества тестов
- Прикрутить LeakCanary для определения возможных утечек памяти
